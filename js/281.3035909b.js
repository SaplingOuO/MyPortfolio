"use strict";(self["webpackChunkmyportfolio"]=self["webpackChunkmyportfolio"]||[]).push([[281],{7281:function(e,t,i){i.r(t),i.d(t,{default:function(){return k}});var s=i(641),o=i(33);const n={class:"row g-0"},r={class:"col h2"},a={class:"row g-0"},h={class:"col h2"},l={class:"row g-0"},c={class:"col h2"},d={class:"row g-0"},p={class:"col g-0 d-flex justify-content-evenly",ref:"canvasContainer"};function y(e,t,i,y,m,u){return(0,s.uX)(),(0,s.CE)(s.FK,null,[(0,s.Lk)("div",n,[t[0]||(t[0]=(0,s.Lk)("div",{class:"col h2"},"時間:",-1)),(0,s.Lk)("div",r,(0,o.v_)(m.time),1)]),(0,s.Lk)("div",a,[t[1]||(t[1]=(0,s.Lk)("div",{class:"col h2"},"分數:",-1)),(0,s.Lk)("div",h,(0,o.v_)(m.score),1)]),(0,s.Lk)("div",l,[t[2]||(t[2]=(0,s.Lk)("div",{class:"col h2"},"平均每秒得分:",-1)),(0,s.Lk)("div",c,(0,o.v_)(m.average),1)]),(0,s.Lk)("div",d,[t[3]||(t[3]=(0,s.Lk)("div",null,"操作: 方向鍵",-1)),(0,s.Lk)("div",p,null,512)])],64)}var m=i(9437),u={data(){return{startTime:null,currentTime:null,time:"00:00:00.000",score:0,average:0}},created(){this.startTime=new Date,this.updateTime(),setInterval(this.updateTime,1)},mounted(){this.init()},methods:{updateTime(){this.currentTime=new Date;let e=Math.floor(this.currentTime-this.startTime),t=Math.floor(e/1e3),i=Math.floor(e/36e5);e%=36e5;let s=Math.floor(e/6e4);e%=6e4;let o=Math.floor(e/1e3),n=e%1e3;this.time=this.pad(i)+":"+this.pad(s)+":"+this.pad(o)+"."+this.padMS(n),this.average=t>0?(this.score/t).toFixed(2):0},pad(e){return e.toString().padStart(2,"0")},padMS(e){return e.toString().padStart(3,"0")},init(){this.scene=new m.Z58,this.camera=new m.qUd(0,10,10,0,-1,1e3),this.renderer=new m.JeP,this.renderer.setSize(500,500),this.$refs.canvasContainer.appendChild(this.renderer.domElement);const e=new m.Gu$(.5,32,32),t=new m.V9B({color:16776960});this.player=new m.eaF(e,t),this.player.position.set(5,5,1),this.scene.add(this.player);const i=new m.Gu$(.5,32,32),s=new m.V9B({color:16711680});this.obstacle=new m.eaF(i,s),this.obstacle.position.set(2,2,1),this.scene.add(this.obstacle),this.camera.position.z=5,this.initGameLogic(),this.animate()},initGameLogic(){this.player.position.x=5,this.player.position.y=5,this.keyState={ArrowUp:!1,ArrowDown:!1,ArrowLeft:!1,ArrowRight:!1},document.addEventListener("keydown",this.onKeyDown),document.addEventListener("keyup",this.onKeyUp)},onKeyDown(e){this.keyState[e.key]=!0},onKeyUp(e){this.keyState[e.key]=!1},movePlayer(){const e=.1;this.keyState.ArrowUp&&(this.player.position.y+=e),this.keyState.ArrowDown&&(this.player.position.y-=e),this.keyState.ArrowLeft&&(this.player.position.x-=e),this.keyState.ArrowRight&&(this.player.position.x+=e),this.player.position.x=m.cj9.clamp(this.player.position.x,0,10),this.player.position.y=m.cj9.clamp(this.player.position.y,0,10)},animate(){this.player.position.distanceTo(this.obstacle.position)<1&&(this.obstacle.position.set(m.cj9.randFloat(0,10),m.cj9.randFloat(0,10),this.obstacle.position.z),this.score+=1),this.movePlayer(),requestAnimationFrame(this.animate),this.renderer.render(this.scene,this.camera)}},beforeUnmount(){document.removeEventListener("keydown",this.onKeyDown),document.removeEventListener("keyup",this.onKeyUp)}},v=i(6262);const w=(0,v.A)(u,[["render",y]]);var k=w}}]);
//# sourceMappingURL=281.3035909b.js.map